jQuery(document).ready((function(e){function t(){var t=!e(".cd-dropdown").hasClass("dropdown-is-active");e(".cd-dropdown").toggleClass("dropdown-is-active",t),e(".house_toggle").toggleClass("dropdown-is-active",t),t||e(".cd-dropdown").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(){e(".has-children ul").addClass("is-hidden"),e(".move-out").removeClass("move-out"),e(".is-active").removeClass("is-active")}))}e(".house_toggle").on("click",(function(e){e.preventDefault(),t()})),e(".cd-dropdown .cd-close").on("click",(function(e){e.preventDefault(),t()})),e(".has-children").children("a").on("click",(function(t){t.preventDefault(),e(this).next("ul").removeClass("is-hidden").end().parent(".has-children").parent("ul").addClass("move-out")})),e(".go-back").on("click",(function(){var t=e(this);e(this).parent("ul").parent(".has-children").parent("ul"),t.parent("ul").addClass("is-hidden").parent(".has-children").parent("ul").removeClass("move-out")})),Modernizr.input.placeholder||(e("[placeholder]").focus((function(){var t=e(this);t.val()==t.attr("placeholder")&&t.val("")})).blur((function(){var t=e(this);""!=t.val()&&t.val()!=t.attr("placeholder")||t.val(t.attr("placeholder"))})).blur(),e("[placeholder]").parents("form").submit((function(){e(this).find("[placeholder]").each((function(){var t=e(this);t.val()==t.attr("placeholder")&&t.val("")}))})))})),function(e){function t(t){var n=e(this),o=null,i=[],r=null,a=null,l=e.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:e.noop,exit:e.noop,activate:e.noop,deactivate:e.noop,exitMenu:e.noop},t),u=function(e){e!=o&&(o&&l.deactivate(o),l.activate(e),o=e)},c=function e(t){var n=s();n?a=setTimeout((function(){e(t)}),n):u(t)},s=function(){if(!o||!e(o).is(l.submenuSelector))return 0;var t=n.offset(),a={x:t.left,y:t.top-l.tolerance},u={x:t.left+n.outerWidth(),y:a.y},c={x:t.left,y:t.top+n.outerHeight()+l.tolerance},s={x:t.left+n.outerWidth(),y:c.y},d=i[i.length-1],h=i[0];if(!d)return 0;if(h||(h=d),h.x<t.left||h.x>s.x||h.y<t.top||h.y>s.y)return 0;if(r&&d.x==r.x&&d.y==r.y)return 0;function f(e,t){return(t.y-e.y)/(t.x-e.x)}var v=u,p=s;"left"==l.submenuDirection?(v=c,p=a):"below"==l.submenuDirection?(v=s,p=c):"above"==l.submenuDirection&&(v=a,p=u);var m=f(d,v),x=f(d,p),y=f(h,v),g=f(h,p);return m<y&&x>g?(r=d,300):(r=null,0)};n.mouseleave((function(){a&&clearTimeout(a),l.exitMenu(this)&&(o&&l.deactivate(o),o=null)})).find(l.rowSelector).mouseenter((function(){a&&clearTimeout(a),l.enter(this),c(this)})).mouseleave((function(){l.exit(this)})).click((function(){u(this)})),e(document).mousemove((function(e){i.push({x:e.pageX,y:e.pageY}),i.length>3&&i.shift()}))}e.fn.menuAim=function(e){return this.each((function(){t.call(this,e)})),this}}(jQuery);